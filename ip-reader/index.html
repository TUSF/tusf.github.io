<html>
<head>
  <title>IP-Reader</title>

  <!-- Load IPFS. -->
  <script src="https://unpkg.com/ipfs/dist/index.min.js"></script>

  <script type="text/javascript">
    const node = new Ipfs({ repo: 'ipfs-' + Math.random() })
    node.once('ready', () => {
      if( node.isOnline() && window.location.hash > 1 ) {
        hash = window.location.hash.substr(1)
        ipfs.swarm.peers().then(a => console.log(a))

        node.files.cat(hash, function(err,date) {
          if(err) {
            return console.error('Error - ipfs files cat', err, res)
          }
          console.log(data.toString())
        }

        console.log('Online status: offline')
        document.body.classList += "online"
      } else {
        console.log('Online status: offline')
        document.getElementById("status").innerHTML= 'Node status: offline')
      }
    })
  </script>
  <style>
    body.online #status { display: none; }
    body #reader { display: none; }
    body.online #reader { display: shown; }
  </style>
</head>
<body>
  <h1 id="status">Node status: loadingâ€¦</h1>
  <div id="reader">
    <h1>Online</h1>
  </div>
</body>
</html>
